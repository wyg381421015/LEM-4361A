/*
 * Copyright (c) 2006-2018, RT-Thread Development Team
 *
 * SPDX-License-Identifier: Apache-2.0
 *
 * Change Logs:
 * Date           Author       Notes
 * 2017-06-08     tanek        first implementation
 */

#include "drv_lcd_lmt028.h"
#include <finsh.h>
//#include <stm32f4xx.h>

//#define DEBUG

#ifdef DEBUG
#define DEBUG_PRINTF(...)   rt_kprintf(__VA_ARGS__)
#else
#define DEBUG_PRINTF(...)   
#endif

struct typFNT_GB16
{
	char Index[2];
	char Msk[72];
};
#define STR_TYPFNT_GB16	struct typFNT_GB16
	
const rt_uint8_t ASC_MSK[96*36]={
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*" ",0*/
 0x00,0x00,0x00,0x00,0x00,0xF0,0xF0,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x7F,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x1C,0x1C,0x00,0x00,0x00,0x00,/*"!",1*/
 0x00,0x00,0x80,0x60,0x30,0x1C,0x8C,0x60,0x30,0x1C,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*""",2*/
 0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x00,0x00,0xE0,0x00,0x00,0x00,0x86,0xE6,0x9F,0x86,0x86,0x86,0x86,0xE6,0x9F,0x86,0x00,0x00,0x01,0x1F,0x01,0x01,0x01,0x01,0x01,0x1F,0x01,0x01,0x00,/*"#",3*/
 0x00,0x00,0x80,0xC0,0x60,0x20,0xF8,0x20,0xE0,0xC0,0x00,0x00,0x00,0x00,0x03,0x07,0x0C,0x18,0xFF,0x70,0xE1,0x81,0x00,0x00,0x00,0x00,0x07,0x0F,0x10,0x10,0x7F,0x10,0x0F,0x07,0x00,0x00,/*"$",4*/
 0x80,0x60,0x20,0x60,0x80,0x00,0x00,0x00,0xE0,0x20,0x00,0x00,0x0F,0x30,0x20,0x30,0x9F,0x70,0xDC,0x37,0x10,0x30,0xC0,0x00,0x00,0x00,0x10,0x0E,0x03,0x00,0x07,0x18,0x10,0x18,0x07,0x00,/*"%",5*/
 0x00,0x00,0xC0,0x20,0x20,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0x1F,0x38,0xE8,0x87,0x03,0xC4,0x3C,0x04,0x00,0x00,0x07,0x0F,0x18,0x10,0x10,0x0B,0x07,0x0D,0x10,0x10,0x08,0x00,/*"&",6*/
 0x00,0x80,0x8C,0x4C,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"'",7*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xE0,0x30,0x08,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0F,0x18,0x20,0x40,0x00,/*"(",8*/
 0x00,0x04,0x08,0x30,0xE0,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFE,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x0F,0x03,0x00,0x00,0x00,0x00,0x00,0x00,/*")",9*/
 0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x42,0x66,0x66,0x3C,0x18,0xFF,0x18,0x3C,0x66,0x66,0x42,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,/*"*",10*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x10,0xFF,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,/*"+",11*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x8C,0x4C,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*",",12*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"-",13*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x1C,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*".",14*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0x38,0x0C,0x00,0x00,0x00,0x00,0x00,0x80,0x70,0x1C,0x03,0x00,0x00,0x00,0x00,0x00,0x60,0x38,0x0E,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"/",15*/
 0x00,0x00,0x80,0xC0,0x60,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0xFE,0xFF,0x01,0x00,0x00,0x00,0x00,0x01,0xFF,0xFE,0x00,0x00,0x01,0x07,0x0E,0x18,0x10,0x10,0x18,0x0E,0x07,0x01,0x00,/*"0",16*/
 0x00,0x00,0x80,0x80,0x80,0xC0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x1F,0x1F,0x10,0x10,0x10,0x00,0x00,/*"1",17*/
 0x00,0x80,0x40,0x20,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0x03,0x03,0x00,0x80,0x40,0x20,0x38,0x1F,0x07,0x00,0x00,0x00,0x1C,0x1A,0x19,0x18,0x18,0x18,0x18,0x18,0x1F,0x00,0x00,/*"2",18*/
 0x00,0x80,0xC0,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0x00,0x03,0x03,0x00,0x10,0x10,0x18,0x2F,0xE7,0x80,0x00,0x00,0x00,0x07,0x0F,0x10,0x10,0x10,0x10,0x18,0x0F,0x07,0x00,0x00,/*"3",19*/
 0x00,0x00,0x00,0x00,0x00,0x00,0xC0,0xE0,0xF0,0x00,0x00,0x00,0x00,0xC0,0xB0,0x88,0x86,0x81,0x80,0xFF,0xFF,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x1F,0x1F,0x10,0x10,0x00,/*"4",20*/
 0x00,0x00,0xE0,0x60,0x60,0x60,0x60,0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x3F,0x10,0x08,0x08,0x08,0x18,0xF0,0xE0,0x00,0x00,0x00,0x07,0x0B,0x10,0x10,0x10,0x10,0x1C,0x0F,0x03,0x00,0x00,/*"5",21*/
 0x00,0x00,0x80,0xC0,0x40,0x20,0x20,0x20,0xE0,0xC0,0x00,0x00,0x00,0xFC,0xFF,0x21,0x10,0x08,0x08,0x08,0x18,0xF0,0xE0,0x00,0x00,0x01,0x07,0x0C,0x18,0x10,0x10,0x10,0x08,0x0F,0x03,0x00,/*"6",22*/
 0x00,0x00,0xC0,0xE0,0x60,0x60,0x60,0x60,0x60,0xE0,0x60,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0xE0,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,0x1F,0x00,0x00,0x00,0x00,0x00,/*"7",23*/
 0x00,0x80,0xC0,0x60,0x20,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x87,0xEF,0x2C,0x18,0x18,0x30,0x30,0x68,0xCF,0x83,0x00,0x00,0x07,0x0F,0x08,0x10,0x10,0x10,0x10,0x18,0x0F,0x07,0x00,/*"8",24*/
 0x00,0x00,0xC0,0xC0,0x20,0x20,0x20,0x20,0xC0,0x80,0x00,0x00,0x00,0x1F,0x3F,0x60,0x40,0x40,0x40,0x20,0x10,0xFF,0xFE,0x00,0x00,0x00,0x0C,0x1C,0x10,0x10,0x10,0x08,0x0F,0x03,0x00,0x00,/*"9",25*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0E,0x0E,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x1C,0x1C,0x00,0x00,0x00,0x00,/*":",26*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0x0C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x58,0x38,0x00,0x00,0x00,0x00,0x00,/*";",27*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x40,0x20,0x10,0x00,0x00,0x00,0x10,0x28,0x44,0x82,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x00,/*"<",28*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x84,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"=",29*/
 0x00,0x00,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x82,0x44,0x28,0x10,0x00,0x00,0x00,0x10,0x08,0x04,0x02,0x01,0x00,0x00,0x00,0x00,0x00,/*">",30*/
 0x00,0xC0,0x20,0x20,0x10,0x10,0x10,0x10,0x30,0xE0,0xC0,0x00,0x00,0x03,0x03,0x00,0x00,0xF0,0x10,0x08,0x0C,0x07,0x03,0x00,0x00,0x00,0x00,0x00,0x1C,0x1C,0x1C,0x00,0x00,0x00,0x00,0x00,/*"?",31*/
 0x00,0x00,0x00,0xC0,0x40,0x60,0x20,0x20,0x20,0x40,0xC0,0x00,0x00,0xFC,0xFF,0x01,0xF0,0x0E,0x03,0xC1,0xFE,0x03,0x80,0x7F,0x00,0x01,0x07,0x0E,0x08,0x11,0x11,0x10,0x11,0x09,0x04,0x02,/*"@",32*/
 0x00,0x00,0x00,0x00,0x80,0xE0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x7C,0x43,0x40,0x47,0x7F,0xF8,0x80,0x00,0x00,0x10,0x18,0x1F,0x10,0x00,0x00,0x00,0x00,0x13,0x1F,0x1C,0x10,/*"A",33*/
 0x20,0xE0,0xE0,0x20,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0xFF,0xFF,0x10,0x10,0x10,0x10,0x18,0x2F,0xE7,0x80,0x00,0x10,0x1F,0x1F,0x10,0x10,0x10,0x10,0x10,0x18,0x0F,0x07,0x00,/*"B",34*/
 0x00,0x00,0x80,0xC0,0x40,0x20,0x20,0x20,0x20,0x60,0xE0,0x00,0x00,0xFC,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x01,0x07,0x0E,0x18,0x10,0x10,0x10,0x08,0x04,0x03,0x00,/*"C",35*/
 0x20,0xE0,0xE0,0x20,0x20,0x20,0x20,0x40,0xC0,0x80,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x01,0xFF,0xFE,0x00,0x10,0x1F,0x1F,0x10,0x10,0x10,0x18,0x08,0x0E,0x07,0x01,0x00,/*"D",36*/
 0x20,0xE0,0xE0,0x20,0x20,0x20,0x20,0x20,0x20,0x60,0x80,0x00,0x00,0xFF,0xFF,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,0x00,0x00,0x10,0x1F,0x1F,0x10,0x10,0x10,0x10,0x10,0x10,0x18,0x06,0x00,/*"E",37*/
 0x20,0xE0,0xE0,0x20,0x20,0x20,0x20,0x20,0x60,0x60,0x80,0x00,0x00,0xFF,0xFF,0x10,0x10,0x10,0x10,0x7C,0x00,0x00,0x01,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"F",38*/
 0x00,0x00,0x80,0xC0,0x60,0x20,0x20,0x20,0x40,0xE0,0x00,0x00,0x00,0xFC,0xFF,0x01,0x00,0x00,0x40,0x40,0xC0,0xC1,0x40,0x40,0x00,0x01,0x07,0x0E,0x18,0x10,0x10,0x10,0x0F,0x0F,0x00,0x00,/*"G",39*/
 0x20,0xE0,0xE0,0x20,0x00,0x00,0x00,0x00,0x20,0xE0,0xE0,0x20,0x00,0xFF,0xFF,0x10,0x10,0x10,0x10,0x10,0x10,0xFF,0xFF,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x00,0x00,0x10,0x1F,0x1F,0x10,/*"H",40*/
 0x00,0x00,0x20,0x20,0x20,0xE0,0xE0,0x20,0x20,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x1F,0x1F,0x10,0x10,0x10,0x00,0x00,/*"I",41*/
 0x00,0x00,0x00,0x00,0x20,0x20,0x20,0xE0,0xE0,0x20,0x20,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x60,0xE0,0x80,0x80,0x80,0xC0,0x7F,0x3F,0x00,0x00,0x00,/*"J",42*/
 0x20,0xE0,0xE0,0x20,0x00,0x00,0x20,0xA0,0x60,0x20,0x20,0x00,0x00,0xFF,0xFF,0x30,0x18,0x7C,0xE3,0xC0,0x00,0x00,0x00,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x01,0x13,0x1F,0x1C,0x18,0x10,/*"K",43*/
 0x20,0xE0,0xE0,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x1F,0x1F,0x10,0x10,0x10,0x10,0x10,0x10,0x18,0x06,0x00,/*"L",44*/
 0x20,0xE0,0xE0,0xE0,0x00,0x00,0x00,0x00,0xE0,0xE0,0xE0,0x20,0x00,0xFF,0x01,0x3F,0xFE,0xC0,0xE0,0x1E,0x01,0xFF,0xFF,0x00,0x10,0x1F,0x10,0x00,0x03,0x1F,0x03,0x00,0x10,0x1F,0x1F,0x10,/*"M",45*/
 0x20,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x20,0xE0,0x20,0x00,0xFF,0x00,0x03,0x07,0x1C,0x78,0xE0,0x80,0x00,0xFF,0x00,0x10,0x1F,0x10,0x00,0x00,0x00,0x00,0x00,0x03,0x0F,0x1F,0x00,/*"N",46*/
 0x00,0x00,0x80,0xC0,0x60,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0xFE,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0xFF,0xFE,0x00,0x00,0x01,0x07,0x0E,0x18,0x10,0x10,0x18,0x0C,0x07,0x01,0x00,/*"O",47*/
 0x20,0xE0,0xE0,0x20,0x20,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0xFF,0xFF,0x20,0x20,0x20,0x20,0x20,0x30,0x1F,0x0F,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"P",48*/
 0x00,0x00,0x80,0xC0,0x60,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0x00,0xFE,0xFF,0x01,0x00,0x00,0x00,0x00,0x00,0xFF,0xFE,0x00,0x00,0x01,0x07,0x0E,0x11,0x11,0x13,0x3C,0x7C,0x67,0x21,0x00,/*"Q",49*/
 0x20,0xE0,0xE0,0x20,0x20,0x20,0x20,0x20,0x60,0xC0,0x80,0x00,0x00,0xFF,0xFF,0x10,0x10,0x30,0xF0,0xD0,0x08,0x0F,0x07,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x00,0x03,0x0F,0x1C,0x10,0x10,/*"R",50*/
 0x00,0x80,0xC0,0x60,0x20,0x20,0x20,0x20,0x40,0x40,0xE0,0x00,0x00,0x07,0x0F,0x0C,0x18,0x18,0x30,0x30,0x60,0xE0,0x81,0x00,0x00,0x1F,0x0C,0x08,0x10,0x10,0x10,0x10,0x18,0x0F,0x07,0x00,/*"S",51*/
 0x80,0x60,0x20,0x20,0x20,0xE0,0xE0,0x20,0x20,0x20,0x60,0x80,0x01,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x00,0x00,/*"T",52*/
 0x20,0xE0,0xE0,0x20,0x00,0x00,0x00,0x00,0x00,0x20,0xE0,0x20,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x07,0x0F,0x18,0x10,0x10,0x10,0x10,0x10,0x08,0x07,0x00,/*"U",53*/
 0x20,0x60,0xE0,0xE0,0x20,0x00,0x00,0x00,0x20,0xE0,0x60,0x20,0x00,0x00,0x07,0x7F,0xF8,0x80,0x00,0x80,0x7C,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x1F,0x1C,0x07,0x00,0x00,0x00,0x00,/*"V",54*/
 0x20,0xE0,0xE0,0x20,0x00,0xE0,0xE0,0x20,0x00,0x20,0xE0,0x20,0x00,0x07,0xFF,0xF8,0xE0,0x1F,0xFF,0xFC,0xE0,0x1F,0x00,0x00,0x00,0x00,0x03,0x1F,0x03,0x00,0x01,0x1F,0x03,0x00,0x00,0x00,/*"W",55*/
 0x00,0x20,0x60,0xE0,0xA0,0x00,0x00,0x20,0xE0,0x60,0x20,0x00,0x00,0x00,0x00,0x03,0x8F,0x7C,0xF8,0xC6,0x01,0x00,0x00,0x00,0x00,0x10,0x18,0x1E,0x13,0x00,0x01,0x17,0x1F,0x18,0x10,0x00,/*"X",56*/
 0x20,0x60,0xE0,0xE0,0x20,0x00,0x00,0x00,0x20,0xE0,0x60,0x20,0x00,0x00,0x01,0x07,0x3E,0xF8,0xE0,0x18,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x1F,0x1F,0x10,0x10,0x00,0x00,0x00,/*"Y",57*/
 0x00,0x80,0x60,0x20,0x20,0x20,0x20,0xA0,0xE0,0xE0,0x20,0x00,0x00,0x00,0x00,0x00,0xC0,0xF0,0x3E,0x0F,0x03,0x00,0x00,0x00,0x00,0x10,0x1C,0x1F,0x17,0x10,0x10,0x10,0x10,0x18,0x06,0x00,/*"Z",58*/
 0x00,0x00,0x00,0x00,0x00,0xFC,0x04,0x04,0x04,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x40,0x40,0x00,/*"[",59*/
 0x00,0x00,0x10,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x1C,0x60,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x0C,0x70,0x80,0x00,/*"\",60*/
 0x00,0x00,0x04,0x04,0x04,0x04,0x04,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,0x00,/*"]",61*/
 0x00,0x00,0x00,0x10,0x08,0x0C,0x04,0x0C,0x08,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"^",62*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,/*"_",63*/
 0x00,0x00,0x00,0x04,0x04,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"`",64*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x98,0xD8,0x44,0x64,0x24,0x24,0xFC,0xF8,0x00,0x00,0x00,0x0F,0x1F,0x18,0x10,0x10,0x10,0x08,0x1F,0x1F,0x10,0x18,/*"a",65*/
 0x00,0x20,0xE0,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x18,0x08,0x04,0x04,0x0C,0xF8,0xF0,0x00,0x00,0x00,0x1F,0x0F,0x18,0x10,0x10,0x10,0x18,0x0F,0x03,0x00,/*"b",66*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF8,0x18,0x04,0x04,0x04,0x3C,0x38,0x00,0x00,0x00,0x00,0x03,0x0F,0x0C,0x10,0x10,0x10,0x10,0x08,0x06,0x00,0x00,/*"c",67*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0xE0,0xF0,0x00,0x00,0x00,0xE0,0xF8,0x1C,0x04,0x04,0x04,0x08,0xFF,0xFF,0x00,0x00,0x00,0x03,0x0F,0x18,0x10,0x10,0x10,0x08,0x1F,0x0F,0x08,0x00,/*"d",68*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF8,0x48,0x44,0x44,0x44,0x4C,0x78,0x70,0x00,0x00,0x00,0x03,0x0F,0x0C,0x18,0x10,0x10,0x10,0x08,0x04,0x00,/*"e",69*/
 0x00,0x00,0x00,0x00,0x80,0xC0,0x60,0x20,0x20,0xE0,0xC0,0x00,0x00,0x04,0x04,0x04,0xFF,0xFF,0x04,0x04,0x04,0x04,0x00,0x00,0x00,0x00,0x10,0x10,0x1F,0x1F,0x10,0x10,0x10,0x00,0x00,0x00,/*"f",70*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x70,0xF8,0x8C,0x04,0x04,0x8C,0xF8,0x74,0x04,0x0C,0x00,0x70,0x76,0xCF,0x8D,0x8D,0x8D,0x89,0xC8,0x78,0x70,0x00,/*"g",71*/
 0x00,0x20,0xE0,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x08,0x04,0x04,0x04,0xFC,0xF8,0x00,0x00,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x10,0x1F,0x1F,0x10,0x00,/*"h",72*/
 0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x1F,0x1F,0x10,0x10,0x10,0x00,0x00,/*"i",73*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x60,0x60,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0xC0,0xC0,0x80,0x80,0xC0,0x7F,0x3F,0x00,0x00,0x00,/*"j",74*/
 0x00,0x20,0xE0,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x80,0xC0,0xF4,0x1C,0x04,0x04,0x00,0x00,0x00,0x10,0x1F,0x1F,0x11,0x00,0x03,0x1F,0x1C,0x10,0x10,0x00,/*"k",75*/
 0x00,0x00,0x20,0x20,0x20,0xE0,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x1F,0x1F,0x10,0x10,0x10,0x00,0x00,/*"l",76*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0xFC,0xFC,0x08,0x04,0xFC,0xFC,0x08,0x04,0xFC,0xFC,0x00,0x10,0x1F,0x1F,0x10,0x00,0x1F,0x1F,0x10,0x00,0x1F,0x1F,0x10,/*"m",77*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0xFC,0xFC,0x08,0x08,0x04,0x04,0xFC,0xF8,0x00,0x00,0x00,0x10,0x1F,0x1F,0x10,0x00,0x00,0x10,0x1F,0x1F,0x10,0x00,/*"n",78*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF0,0x18,0x0C,0x04,0x04,0x0C,0x18,0xF0,0xE0,0x00,0x00,0x03,0x0F,0x0C,0x10,0x10,0x10,0x10,0x0C,0x0F,0x03,0x00,/*"o",79*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0xFC,0xFC,0x08,0x04,0x04,0x04,0x0C,0xF8,0xF0,0x00,0x00,0x80,0xFF,0xFF,0x88,0x90,0x10,0x10,0x1C,0x0F,0x03,0x00,/*"p",80*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF8,0x1C,0x04,0x04,0x04,0x08,0xF8,0xFC,0x00,0x00,0x00,0x03,0x0F,0x18,0x10,0x10,0x90,0x88,0xFF,0xFF,0x80,0x00,/*"q",81*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0xFC,0xFC,0x10,0x08,0x04,0x04,0x0C,0x0C,0x00,0x10,0x10,0x10,0x1F,0x1F,0x10,0x10,0x10,0x00,0x00,0x00,0x00,/*"r",82*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x78,0xCC,0xC4,0x84,0x84,0x84,0x0C,0x1C,0x00,0x00,0x00,0x1E,0x18,0x10,0x10,0x10,0x11,0x19,0x0F,0x06,0x00,/*"s",83*/
 0x00,0x00,0x00,0x00,0x00,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0xFF,0xFF,0x04,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x1F,0x10,0x10,0x10,0x0C,0x00,0x00,/*"t",84*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0xFC,0xFE,0x00,0x00,0x00,0x04,0xFC,0xFE,0x00,0x00,0x00,0x00,0x0F,0x1F,0x18,0x10,0x10,0x08,0x1F,0x0F,0x08,0x00,/*"u",85*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x0C,0x3C,0xFC,0xC4,0x00,0x00,0xC4,0x3C,0x0C,0x04,0x00,0x00,0x00,0x00,0x01,0x0F,0x1E,0x0E,0x01,0x00,0x00,0x00,/*"v",86*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x3C,0xFC,0xC4,0x00,0xE4,0x7C,0xFC,0x84,0x80,0x7C,0x04,0x00,0x00,0x07,0x1F,0x07,0x00,0x00,0x07,0x1F,0x07,0x00,0x00,/*"w",87*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x1C,0x7C,0xE4,0xC0,0x34,0x1C,0x04,0x04,0x00,0x00,0x10,0x10,0x1C,0x16,0x01,0x13,0x1F,0x1C,0x18,0x10,0x00,/*"x",88*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x0C,0x3C,0xFC,0xC4,0x00,0xC4,0x3C,0x04,0x04,0x00,0x00,0x00,0xC0,0x80,0xC1,0x37,0x0E,0x01,0x00,0x00,0x00,0x00,/*"y",89*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x04,0x04,0xC4,0xF4,0x7C,0x1C,0x04,0x00,0x00,0x00,0x00,0x10,0x1C,0x1F,0x17,0x11,0x10,0x10,0x18,0x0E,0x00,/*"z",90*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0x0C,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x28,0xEF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x3F,0x60,0x40,0x00,0x00,/*"{",91*/
 0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,/*"|",92*/
 0x00,0x00,0x04,0x0C,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xEF,0x28,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x60,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"}",93*/
 0x00,0x18,0x06,0x02,0x02,0x04,0x08,0x10,0x20,0x20,0x30,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*"~",94*/
 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1C,0x1C,0x1C,0x00,0x00,0x00,0x00,0x00,0x00,0x00,/*".",95*/
};

const struct typFNT_GB16 GB_16[] =
{

"欢",0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0xE0,0x70,0x00,0x00,0x80,0xF8,0x9C,0x80,0x80,0x80,
		0x80,0x80,0x80,0xC0,0x80,0x00,0x00,0x00,0x01,0x02,0x04,0xC8,0x30,0xEE,0xC3,0x00,0x18,0x04,
		0x03,0x00,0xE1,0x3E,0x7E,0x80,0x00,0x02,0x01,0x00,0x00,0x00,0x00,0x10,0x08,0x04,0x03,0x00,
		0x00,0x40,0x43,0x27,0x20,0x10,0x0C,0x07,0x01,0x00,0x00,0x03,0x0E,0x18,0x30,0x20,0x20,0x00,	
"迎",0x00,0x00,0x00,0x04,0x18,0x30,0x00,0x00,0x00,0xF0,0x10,0x10,0x08,0x0C,0x04,0xE0,0x20,0x20,
		0x20,0x20,0xF0,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0xFE,0x00,0x00,0x00,0xFF,0xC0,0x40,
		0x20,0x20,0x00,0xFF,0x00,0x00,0x80,0x80,0xFF,0x00,0x00,0x00,0x00,0x08,0x18,0x04,0x04,0x03,
		0x04,0x08,0x10,0x10,0x10,0x30,0x30,0x20,0x20,0x27,0x20,0x20,0x20,0x31,0x30,0x10,0x10,0x00,
"使",0x00,0x00,0x00,0x00,0x00,0xE0,0x3C,0x0C,0x24,0x20,0x20,0x20,0x20,0x20,0xFE,0xFC,0x20,0x20,
		0x20,0x20,0x20,0x20,0x00,0x00,0x00,0x20,0x18,0x04,0x03,0xFF,0x01,0x00,0x00,0x40,0x3F,0xA2,
		0x22,0x22,0xFF,0x7F,0x22,0x22,0x22,0x7F,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,
		0x00,0x00,0x40,0x40,0x20,0x21,0x12,0x0C,0x0F,0x18,0x10,0x30,0x20,0x60,0x60,0x20,0x00,0x00,
"用",0x00,0x00,0x00,0x00,0xFC,0xF8,0x08,0x08,0x08,0x08,0x08,0x08,0xF8,0x08,0x08,0x08,0x08,0x08,
		0x08,0xFC,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x43,0x42,0x42,0x42,0x42,0x42,0x42,
		0xFF,0x42,0x42,0x42,0x42,0x42,0x42,0xFF,0x00,0x00,0x00,0x00,0x00,0x40,0x30,0x0E,0x03,0x00,
		0x00,0x00,0x00,0x00,0x00,0x38,0x3F,0x00,0x00,0x00,0x20,0x20,0x60,0x7F,0x00,0x00,0x00,0x00,
"鲁",0x00,0x00,0x00,0x80,0x40,0xE0,0x70,0x58,0x4E,0x4C,0x48,0xC8,0x48,0x68,0x58,0x48,0x40,0x40,
		0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x21,0x20,0x30,0x2F,0xAA,0xAA,0xAA,0xAA,0xAA,0xAF,
		0xAA,0xAA,0xAA,0xAA,0xAA,0xAA,0x2F,0x20,0x30,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x7F,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,
"能",0x00,0x00,0x80,0xC0,0xA0,0x98,0x8C,0x84,0x80,0x90,0x60,0xC0,0x00,0x00,0xFC,0x80,0x40,0x20,
		0x30,0x10,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0xFC,0xFC,0x24,0x24,0x24,0x24,0xFC,0xFC,0x01,
		0x00,0x10,0xE7,0x24,0x04,0x84,0xC4,0x64,0x45,0x06,0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,0x01,
		0x01,0x21,0x21,0x7F,0x3F,0x00,0x00,0x00,0x3F,0x22,0x61,0x60,0x60,0x60,0x20,0x3C,0x20,0x00,
"智",0x00,0x00,0x00,0x40,0x30,0x1E,0x10,0xD0,0xF0,0x10,0x10,0x98,0x90,0x00,0xF8,0x10,0x10,0x10,
		0x10,0x10,0xF8,0x10,0x00,0x00,0x00,0x00,0x41,0x41,0x21,0x11,0x0D,0xC7,0x43,0x45,0x4D,0x59,
		0x51,0x41,0x5F,0x44,0x44,0xC4,0x44,0x04,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x7F,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x7F,0x60,0x00,0x00,0x00,0x00,0x00,
"慧",0x00,0x00,0x00,0x50,0x50,0x50,0x50,0xFC,0x54,0x50,0x48,0x10,0x10,0x50,0x50,0xFE,0xFC,0x50,
		0x50,0x50,0x48,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x0A,0x2A,0x2A,0x2F,0x2A,0x2A,0x29,0x29,
		0x2A,0x2A,0x2A,0x2F,0x2B,0x2A,0xFA,0x0A,0x01,0x01,0x00,0x00,0x00,0x00,0x20,0x30,0x1C,0x01,
		0x01,0x1F,0x3D,0x21,0x21,0x23,0x2D,0x21,0x21,0x21,0x3D,0x21,0x01,0x04,0x18,0x38,0x00,0x00,
"终",0x00,0x00,0x00,0x80,0x60,0x18,0x0C,0x04,0xC0,0xC0,0x00,0x80,0x70,0xBC,0x24,0x20,0x20,0xA0,
		0xE0,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x87,0xC2,0xA2,0x5A,0x46,0x43,0x41,0x84,0x83,0x40,
		0x20,0x51,0x5E,0x8C,0x9E,0x13,0x20,0x60,0x60,0x40,0x00,0x00,0x00,0x00,0x30,0x10,0x18,0x08,
		0x08,0x04,0x04,0x00,0x00,0x00,0x04,0x08,0x08,0x08,0x19,0x31,0x70,0x00,0x00,0x00,0x00,0x00,
"端",0x00,0x00,0x80,0x80,0x8C,0xB8,0x80,0xC0,0x80,0x00,0xF8,0xF8,0x80,0x80,0x80,0xFC,0x84,0x80,
		0x80,0x80,0xF8,0x00,0x00,0x00,0x00,0x00,0x02,0x7C,0x00,0xC0,0x3D,0x06,0x00,0x04,0xE4,0x24,
		0x24,0xE4,0xFC,0x24,0x24,0xE4,0x24,0x24,0xE4,0x26,0x04,0x00,0x00,0x04,0x0C,0x04,0x02,0x03,
		0x02,0x02,0x01,0x00,0x7F,0x00,0x00,0x3F,0x1F,0x00,0x00,0x3F,0x40,0x40,0x7F,0x00,0x00,0x00,
"常",0x00,0x00,0x00,0xE0,0x40,0x40,0x44,0x58,0x70,0x40,0x40,0x7C,0x7C,0x40,0x60,0x50,0x48,0x4C,
		0x40,0x40,0xC0,0x40,0x00,0x00,0x00,0x00,0x03,0x01,0x00,0x80,0x80,0xBE,0x92,0x92,0x92,0xF2,
		0xF2,0x92,0x92,0x92,0x9F,0x80,0xC0,0x81,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x1F,
		0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,0x00,0x00,0x10,0x10,0x30,0x1F,0x00,0x00,0x00,0x00,0x00,
"正",0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0xF0,0x10,0x10,0x10,0x10,0x10,
		0x10,0x08,0x0C,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFE,0x02,0x00,0x00,0x00,0x00,
		0xFF,0x10,0x10,0x10,0x10,0x10,0x08,0x0C,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x20,0x20,
		0x1F,0x20,0x20,0x20,0x20,0x20,0x1F,0x20,0x20,0x20,0x20,0x20,0x20,0x10,0x18,0x10,0x00,0x00,/*"?",2*/
"向",0x00,0x00,0x00,0xE0,0xC0,0x40,0x40,0x40,0x40,0x30,0x4E,0x44,0x40,0x40,0x40,0x40,0x40,0x40,
		0x40,0xE0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0xFC,0x04,0x04,0x04,
		0x04,0x04,0x04,0xFC,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x7F,0x00,
		0x00,0x00,0x03,0x01,0x01,0x01,0x01,0x01,0x01,0x03,0x20,0x20,0x60,0x7F,0x3F,0x00,0x00,0x00,/*"?",3*/
"充",0x00,0x00,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0xA0,0xE2,0x7C,0x38,0x20,0x20,0x20,0x20,0x20,
		0x20,0x30,0x30,0x20,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x18,0x0C,0x0A,0xE9,0x79,0x08,0x08,
		0x08,0xF8,0xF9,0x09,0x0A,0x0C,0x1C,0x38,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x20,0x10,
		0x18,0x0E,0x03,0x00,0x00,0x00,0x00,0x3F,0x3F,0x60,0x60,0x60,0x60,0x60,0x66,0x38,0x00,0x00,/*"?",4*/
"电",0x00,0x00,0x00,0x00,0xC0,0x40,0x40,0x40,0x40,0x40,0x40,0xFC,0x44,0x40,0x40,0x40,0x40,0x40,
		0xC0,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x08,0x08,0x08,0x08,0x08,0x08,0xFF,
		0x08,0x08,0x08,0x08,0x08,0x08,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x03,0x01,
		0x01,0x01,0x01,0x01,0x01,0x3F,0x61,0x41,0x41,0x41,0x41,0x41,0x41,0x40,0x6C,0x30,0x00,0x00,/*"?",5*/
"交",0x00,0x20,0x20,0x20,0x20,0x20,0x20,0xA0,0xA0,0x20,0x24,0x2C,0x38,0x20,0x20,0xA0,0x20,0x20,
		0x20,0x20,0x30,0x20,0x00,0x00,0x00,0x00,0x10,0x10,0x08,0x04,0x02,0x01,0x19,0x60,0x80,0x00,
		0x00,0xC0,0x78,0x1C,0x09,0x03,0x06,0x0E,0x0C,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x20,
		0x20,0x10,0x10,0x08,0x0D,0x07,0x07,0x08,0x18,0x10,0x30,0x20,0x20,0x60,0x60,0x20,0x20,0x00,/*"?",6*/
"流",0x00,0x00,0x00,0x00,0x08,0x30,0x20,0x80,0x10,0x10,0x10,0x10,0x92,0x74,0x1C,0x10,0x10,0x90,
		0x10,0x10,0x18,0x10,0x00,0x00,0x00,0x01,0x02,0x0E,0x80,0x70,0x0C,0x03,0x00,0xF4,0xF6,0x05,
		0x04,0xF4,0x04,0x04,0x04,0xF4,0x13,0x0E,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x3F,0x3F,0x40,
		0x40,0x20,0x18,0x0F,0x01,0x00,0x00,0x7F,0x00,0x00,0x00,0x3F,0x20,0x20,0x20,0x3C,0x20,0x00,/*"?",7*/
"压",0x00,0x00,0x00,0x00,0xF8,0xF8,0x08,0x08,0x08,0x08,0x08,0x08,0xE8,0xE8,0x08,0x08,0x08,0x08,
		0x08,0x0C,0x0C,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x3F,0x00,0x08,0x08,0x08,0x08,0x08,
		0xFF,0xFF,0x08,0x08,0x48,0x88,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x40,0x30,0x0C,0x03,0x20,
		0x20,0x20,0x20,0x20,0x20,0x20,0x1F,0x1F,0x20,0x20,0x20,0x21,0x27,0x22,0x10,0x10,0x00,0x00,/*"?",8*/
		
"上",0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,
		0x04,0x04,0x04,0x04,0x04,0x02,0x03,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x20,0x20,
		0x20,0x20,0x20,0x20,0x1F,0x1F,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x10,0x10,0x00,0x00,
"月",0x00,0x00,0x00,0x00,0x00,0x00,0x0C,0xF8,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0xFC,
		0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF0,0xFF,0x21,0x21,0x21,0x21,
		0x21,0x21,0x21,0x21,0x21,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x20,0x10,0x0C,
		0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x60,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,
"尖",0x00,0x00,0x00,0x00,0x00,0xC0,0x60,0x30,0x20,0x00,0x00,0xFC,0x04,0x00,0x00,0x20,0x20,0x40,
		0xC0,0x80,0x00,0x00,0x00,0x00,0x00,0x40,0x44,0x42,0x41,0x40,0x40,0x40,0x40,0x40,0xC0,0xFF,
		0x43,0xC0,0x40,0x40,0x40,0x40,0x40,0x41,0x23,0x20,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x20,
		0x20,0x10,0x08,0x0C,0x03,0x00,0x00,0x01,0x02,0x04,0x08,0x18,0x30,0x30,0x20,0x20,0x00,0x00,
"峰",0x00,0x00,0xC0,0x00,0x00,0xFC,0x00,0x00,0xC0,0x00,0x00,0xC0,0x30,0x3C,0x54,0x90,0x90,0xD0,
		0x70,0x18,0x10,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0xFF,0x00,0x00,0xFF,0x20,0x11,0x30,
		0x28,0x24,0x26,0xFB,0xF9,0x22,0x26,0x34,0x2C,0x0C,0x04,0x00,0x00,0x00,0x07,0x02,0x02,0x01,
		0x01,0x01,0x03,0x00,0x08,0x08,0x09,0x09,0x09,0x7F,0x7F,0x09,0x09,0x09,0x09,0x0C,0x08,0x00,
"平",0x00,0x00,0x00,0x08,0x08,0x48,0xC8,0x88,0x08,0x08,0x08,0xF8,0xF8,0x08,0x08,0x08,0x08,0xC8,
		0x68,0x0C,0x08,0x00,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x11,0x17,0x12,0x10,0x10,0xFF,
		0xFF,0x10,0x14,0x12,0x11,0x10,0x10,0x10,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x7F,0x3F,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
"谷",0x00,0x00,0x00,0x80,0x80,0x40,0x30,0x18,0x0C,0x08,0x80,0xF0,0xA0,0x00,0x00,0x08,0x10,0x30,
		0x60,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x81,0x40,0x40,0x20,0x50,0xC8,0x4C,0x43,0x41,0x40,
		0x40,0x43,0x44,0x48,0xF8,0xD0,0x20,0x60,0x60,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x40,0x7F,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x20,0x7F,0x7F,0x00,0x00,0x00,0x00,0x00,0x00,
"总",0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x84,0x98,0xB8,0x80,0x80,0x80,0xE0,0x98,0x8C,0x84,0xC0,
		0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x20,0x20,0x20,0x60,0xA0,
		0xA0,0x20,0x20,0x20,0x20,0x7F,0x30,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x18,0x1C,0x03,0x00,
		0x00,0x3F,0x31,0x20,0x20,0x20,0x23,0x21,0x20,0x20,0x3C,0x30,0x01,0x02,0x0E,0x0C,0x00,0x00,
"量",0x00,0x00,0x00,0x00,0x00,0xFC,0xFC,0xA4,0xA4,0xA4,0xA4,0xA4,0xA4,0xA4,0xA4,0xA4,0xA4,0xFC,
		0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x02,0x02,0x02,0x02,0xFB,0x4A,0x4A,0x4A,0x4A,0x4A,0xFA,
		0xFA,0x4A,0x4A,0x4A,0x4A,0xFA,0xFA,0x02,0x02,0x03,0x02,0x00,0x00,0x00,0x40,0x40,0x48,0x4B,
		0x49,0x49,0x49,0x49,0x49,0x3F,0x3F,0x49,0x49,0x49,0x49,0x4B,0x4D,0x48,0x20,0x20,0x00,0x00,
		
"编",0x00,0x00,0x00,0xC0,0x30,0x1C,0x00,0xC0,0x80,0x00,0xE0,0x20,0x20,0x20,0x24,0x2C,0x20,0x20,
		0x20,0xF0,0xF0,0x00,0x00,0x00,0x00,0x02,0xC7,0xA2,0x52,0x4E,0x42,0x41,0x00,0xF0,0x3F,0xF9,
		0x11,0x11,0xF1,0x11,0x11,0xF1,0x11,0x13,0xF1,0xF8,0x00,0x00,0x00,0x00,0x08,0x0C,0x04,0x44,
		0x24,0x12,0x0E,0x03,0x00,0x7F,0x01,0x01,0x1F,0x01,0x01,0x1F,0x21,0x61,0x7F,0x3F,0x00,0x00,
"号",0x00,0x00,0x00,0x00,0x00,0x00,0xFC,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0xFC,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x0B,0xC9,0x79,0x99,0x89,0x89,
		0x89,0x89,0x89,0x89,0x89,0xC9,0xC8,0x08,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x60,0x60,0x60,0x38,0x1F,0x00,0x00,0x00,0x00,0x00,0x00,
"日",0x00,0x00,0x00,0x00,0x00,0xF8,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,0x08,
		0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x08,0x08,0x08,0x08,0x08,0x08,
		0x08,0x08,0x08,0x08,0x08,0x08,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,
		0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x10,0x3F,0x00,0x00,0x00,0x00,0x00,
"期",0x00,0x00,0x00,0x40,0x40,0xFC,0x40,0x40,0x40,0x40,0xFC,0x20,0x20,0x00,0x18,0xF8,0x08,0x08,
		0x08,0x08,0xF8,0xF8,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0xFF,0x92,0x92,0x92,0x92,0xFF,0x80,
		0x80,0x00,0xF0,0xFF,0x42,0x42,0x42,0x42,0xFF,0xFF,0x00,0x00,0x00,0x40,0x20,0x10,0x08,0x07,
		0x02,0x00,0x00,0x02,0x4C,0x4C,0x30,0x1D,0x07,0x00,0x00,0x00,0x20,0x60,0x7F,0x3F,0x00,0x00,
		
"功",0x00,0x00,0x20,0x20,0x20,0x20,0xE0,0x20,0x20,0x20,0x30,0x20,0x00,0x00,0x00,0xFC,0x04,0x00,
		0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x80,0x01,
		0x01,0x01,0xE1,0x3F,0x01,0x01,0x01,0x01,0xFF,0x0F,0x00,0x00,0x00,0x00,0x06,0x06,0x02,0x02,
		0x01,0x41,0x41,0x21,0x10,0x08,0x04,0x03,0x01,0x10,0x20,0x20,0x60,0x70,0x1F,0x00,0x00,0x00,
"率",0x00,0x00,0x00,0x20,0xA0,0x20,0x20,0x20,0x20,0xA0,0xE2,0x7C,0x28,0x20,0xA0,0x20,0x20,0x20,
		0xA0,0x90,0x10,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x20,0x13,0x10,0x0C,0x63,0x62,0x52,0xCA,
		0xC6,0x43,0x31,0x64,0x0C,0x13,0x11,0x30,0x60,0x00,0x00,0x00,0x00,0x02,0x02,0x02,0x02,0x02,
		0x02,0x02,0x02,0x02,0x02,0x7F,0x42,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x02,0x03,0x00,0x00,
"因",0x00,0x00,0x00,0xF8,0x08,0x08,0x08,0x08,0x08,0x08,0x18,0xE8,0x28,0x08,0x08,0x08,0x08,0x08,
		0x08,0x08,0xFC,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x02,0x02,0x02,0x02,0x82,0xE2,0x3F,
		0x12,0x22,0x42,0xC2,0x83,0x02,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x7F,0x20,0x20,
		0x24,0x24,0x22,0x21,0x20,0x20,0x20,0x20,0x20,0x21,0x27,0x20,0x20,0x20,0x7F,0x00,0x00,0x00,
"数",0x00,0x00,0x80,0x88,0xF0,0xA0,0x80,0xFC,0x84,0xC0,0xB0,0xD8,0x88,0x00,0xF0,0x9E,0x84,0x80,
		0x80,0x80,0x80,0xC0,0x80,0x00,0x00,0x00,0x90,0x88,0x84,0x82,0xE1,0xBF,0x82,0x82,0xCE,0xD4,
		0x0C,0x03,0x1F,0xE0,0x00,0x00,0xF8,0x1F,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x20,0x23,
		0x14,0x0C,0x0C,0x0E,0x49,0x58,0x20,0x20,0x10,0x08,0x07,0x0F,0x19,0x30,0x70,0x20,0x20,0x00,
};


typedef struct
{
	rt_uint16_t width;			//LCD 宽度
	rt_uint16_t height;			//LCD 高度
	rt_uint16_t id;				//LCD ID
	rt_uint8_t  dir;			//横屏还是竖屏控制：0，竖屏；1，横屏。	
	rt_uint16_t	wramcmd;		//开始写gram指令
	rt_uint16_t setxcmd;		//设置x坐标指令
	rt_uint16_t setycmd;		//设置y坐标指令 
} lcd_info_t;

typedef struct
{
	volatile rt_uint8_t reg;
	volatile rt_uint8_t ram;
} lcd_lmt028_t;


//使用NOR/SRAM的 Bank1.sector1,地址位HADDR[27,26]=00 A18作为数据命令区分线 
//注意设置时STM32内部会右移一位对其!

//使用NOR/SRAM的 Bank1.sector4,地址位HADDR[27,26]=11 A6作为数据命令区分线 
//注意设置时STM32内部会右移一位对其!
#define LCD_LMT028_BASE        ((rt_uint32_t)(0x6C000000))  
#define lmt028					((lcd_lmt028_t *) LCD_LMT028_BASE)


//////////////////////////////////////////////////////////////////////////////////

static lcd_info_t lcddev;
static rt_uint8_t bk_level;

void delay_us(rt_uint32_t nus)
{
	//rt_thread_delay(1);
	while (nus--) {
		__NOP();
	}
}

void delay_ms(rt_uint32_t nms)
{
	//rt_thread_delay((RT_TICK_PER_SECOND * nms + 999) / 1000);
	while (nms--)
	{
		int i;
		for (i = 0; i < 10000; i++)
		{
			__NOP();
		}
	}
}

static void lmt028_write_reg(rt_uint8_t regval)
{
	lmt028->reg = regval;
}

static void lmt028_write_data(rt_uint8_t data)
{
	lmt028->ram = data;
}

rt_uint8_t lmt028_read_ram(void)
{
	return lmt028->ram;
}

//static void lmt028_write_reg_with_value(rt_uint8_t reg, rt_uint8_t regValue)
//{
//	lmt028->reg = reg;
//	lmt028->ram = regValue;
//}

static void lmt028_write_ram_prepare(void)
{
	lmt028->reg = lcddev.wramcmd;
}

rt_uint16_t lmt028_bgr2rgb(rt_uint16_t value)
{
	rt_uint16_t  red, green, blue;

	blue = (value >> 0) & 0x1f;
	green = (value >> 5) & 0x3f;
	red = (value >> 11) & 0x1f;

	return (blue << 11) + (green << 5) + (red << 0);
}

static void lmt028_set_cursor(rt_uint16_t Xpos, rt_uint16_t Ypos)
{
	lmt028_write_reg(lcddev.setxcmd);
	lmt028_write_data(Xpos >> 8); 
	lmt028_write_data(Xpos & 0XFF);

	lmt028_write_reg(lcddev.setycmd);
	lmt028_write_data(Ypos >> 8); 
	lmt028_write_data(Ypos & 0XFF);
}

static void lmt028_set_backlight(rt_uint8_t pwm)
{
	lmt028_write_reg(0xBE);
	lmt028_write_data(0x05);
	lmt028_write_data(pwm*2.55);
	lmt028_write_data(0x01);
	lmt028_write_data(0xFF);
	lmt028_write_data(0x00);
	lmt028_write_data(0x00);
}

static void lmt028_set_display_direction(rt_uint8_t dir)
{
	lcddev.dir = dir;
	lcddev.width = 320;
	lcddev.height = 240;
	
	lcddev.setxcmd = 0X2A;
	lcddev.setycmd = 0X2B;
	lcddev.wramcmd = 0X2C;

//	lmt028_set_scan_direction(DFT_SCAN_DIR);
}

static void lmt028_lcd_set_font24(rt_uint16_t x,rt_uint16_t y,void *ptr,rt_uint16_t fontcolor,rt_uint16_t backcolor)//阴码 逐列式 逆向 24*24
{
	rt_uint16_t i,j,m,k,num,t,n;
	rt_uint16_t uiLen,temp;
	char c1,c2;
	rt_uint16_t uRow,uCol;
	rt_uint8_t x_addr1,x_addr2,y_addr1,y_addr2,Col_hi,Col_lo;

	uiLen = 0;
	i = 0;
//	n = 0;

	uCol = x;
	uRow = y;
	
	if((uRow <= LCM_DOT_HEIGHT)&&(uCol <= LCM_DOT_WIDTH))
	{
		while (((const char*)ptr)[uiLen] != 0)	//探测字符串长度
		{
			uiLen++;
		}
	}
		
	while(i < uiLen)
	{
		c1 = ((const char*)ptr)[i];
		c2 = ((const char*)ptr)[i+1];

//		n=0;
		if((c1&0x80)==0)//ASCII字符
		{
			num = 12;			
			if(c1>=0x20)
			{
				for(m=0;m<3;m++)//
				{
					for(k=0;k<num;k++)
					{
						temp = ASC_MSK[(c1-0x20)*ASC_CHR_HEIGHT+k+num*m];
						for(t=0;t<8;t++)
						{
							x_addr1 = (rt_uint8_t)((uCol+i*12+k)>>8);
							x_addr2 = (rt_uint8_t)(uCol+i*12+k);
						
							y_addr1 = (rt_uint8_t)(uRow+m*8-t)>>8;
							y_addr2 = (rt_uint8_t)(uRow+m*8-t);	
							
							lmt028_write_reg(lcddev.setxcmd);
							lmt028_write_data(x_addr1);
							lmt028_write_data(x_addr2);
							lmt028_write_data(x_addr1);
							lmt028_write_data(x_addr2);
							
							lmt028_write_reg(lcddev.setycmd);
							lmt028_write_data(y_addr1);
							lmt028_write_data(y_addr2);
							lmt028_write_data(y_addr1);
							lmt028_write_data(y_addr2);
							
							lmt028_write_reg(lcddev.wramcmd);
							if(temp&0x80)
							{
									Col_hi = fontcolor>>8;
									Col_lo = (rt_uint8_t)fontcolor;
									lmt028_write_data(Col_hi);
									lmt028_write_data(Col_lo);
								
							}
							else
							{
									Col_hi = backcolor>>8;
									Col_lo = (rt_uint8_t)backcolor;
									lmt028_write_data(Col_hi);
									lmt028_write_data(Col_lo);
							}
							temp<<=1;
						}
					}
				}
				i++;
			}
		}
		else//中文汉字
		{
			num=24;	
			for(j=0;j<sizeof(GB_16)/sizeof(GB_16[0]);j++)	// 判断汉字所在位置
			{
				if((GB_16[j].Index[0] == c1)&&(GB_16[j].Index[1] == c2))
				{
					break;
				}
			}
			for(m=0;m<3;m++)
			{
				if(j < sizeof(GB_16)/sizeof(GB_16[0]))//找到字符串
				{
					for(k=0;k<num;k++)
					{
						temp = GB_16[j].Msk[k+num*m];
						
						for(t = 0;t<8;t++)
						{				
							x_addr1 = (rt_uint8_t)((uCol+i*12+k)>>8);
							x_addr2 = (rt_uint8_t)(uCol+i*12+k);
						
							y_addr1 = (rt_uint8_t)(uRow+m*8-t)>>8;
							y_addr2 = (rt_uint8_t)(uRow+m*8-t);	
							
							lmt028_write_reg(lcddev.setxcmd);
							lmt028_write_data(x_addr1);
							lmt028_write_data(x_addr2);
							lmt028_write_data(x_addr1);
							lmt028_write_data(x_addr2);
							
							lmt028_write_reg(lcddev.setycmd);
							lmt028_write_data(y_addr1);
							lmt028_write_data(y_addr2);
							lmt028_write_data(y_addr1);
							lmt028_write_data(y_addr2);
							
							lmt028_write_reg(lcddev.wramcmd);
							
							if(temp&0x80)
							{
									Col_hi = fontcolor>>8;
									Col_lo = (rt_uint8_t)fontcolor;
									lmt028_write_data(Col_hi);
									lmt028_write_data(Col_lo);
								
							}
							else
							{
									Col_hi = backcolor>>8;
									Col_lo = (rt_uint8_t)backcolor;
									lmt028_write_data(Col_hi);
									lmt028_write_data(Col_lo);
							}
							temp<<=1;
						}						
					}
				}
				else
				{

				}
			}
			i+=2;
		}
	}
}

static void lmt028_lcd_fillfullscreen(rt_uint16_t color)
{
	rt_uint16_t i,j;
	rt_uint8_t Col_hi, Col_lo;
	
	lmt028_write_reg(lcddev.setxcmd);
	lmt028_write_data(0x00);
	lmt028_write_data(0x00);
	lmt028_write_data(0x01);
	lmt028_write_data(0x3f);
	
	lmt028_write_reg(lcddev.setycmd);
	lmt028_write_data(0x00);
	lmt028_write_data(0x00);
	lmt028_write_data(0x00);
	lmt028_write_data(0xef);
	
	Col_hi = color>>8;
	Col_lo = (rt_uint8_t)color;

	lmt028_write_reg(lcddev.wramcmd);
	
	for(i=0;i<4800;i++)
	{
		for(j=0;j<16;j++)
		{
			lmt028_write_data(Col_hi);
			lmt028_write_data(Col_lo);
		}
	}
}

static void lmt028_lcd_set_bmp(rt_uint16_t x,rt_uint16_t y,void* bmp,rt_uint16_t bmp_width,rt_uint16_t bmp_hight)
{
  rt_uint32_t i;
//	rt_uint8_t c;
	rt_uint8_t x_addr1,x_addr2,y_addr1,y_addr2;
	rt_uint8_t x_addr1_w,x_addr2_w,y_addr1_l,y_addr2_l;
	
	x_addr1 = (rt_uint8_t)(x>>8);
	x_addr2 = (rt_uint8_t)(x);
	y_addr1 = (rt_uint8_t)(y>>8);
	y_addr2 = (rt_uint8_t)(y);
	x_addr1_w = (rt_uint8_t)((x+bmp_width-1)>>8);
	x_addr2_w = (rt_uint8_t)(x+bmp_width-1);
	y_addr1_l = (rt_uint8_t)((y+bmp_hight-1)>>8);
	y_addr2_l = (rt_uint8_t)(y+bmp_hight-1);
	
	lmt028_write_reg(lcddev.setxcmd);
	lmt028_write_data(x_addr1);
	lmt028_write_data(x_addr2);
	lmt028_write_data(x_addr1_w);
	lmt028_write_data(x_addr2_w);
	
	lmt028_write_reg(lcddev.setycmd);
	lmt028_write_data(y_addr1);
	lmt028_write_data(y_addr2);
	lmt028_write_data(y_addr1_l);
	lmt028_write_data(y_addr2_l);
	
	lmt028_write_reg(lcddev.wramcmd);
                                               // direct access for speed
   for (i=0;i<(bmp_width*bmp_hight*2);i++)
   {
      lmt028_write_data(((const rt_uint8_t*)bmp)[i]);
	 }
}

static void lm028_lcd_backlight_init(void)
{
	rt_uint8_t i;
	
	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_RESET);
	delay_ms(5);
	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_SET);
	
//	for(i=0;i<bk_level;i++)
//	{
//		HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_RESET);
//		__NOP();
//		HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_SET);
//	}
}

static void lm028_lcd_backlight_lighter(void)
{
	rt_uint8_t i;
	
	if(bk_level>0) bk_level--;
	if(bk_level == 0)
	{
		HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_SET);
		delay_ms(3);
	}
	else
	{
		for(i = 0;i < 31;i++)
		{
			HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_RESET);
			delay_us(3);
			HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_SET);
			delay_us(3);
		}
//		}
		rt_kprintf("[Screen]:bk_level is %d!\r\n",bk_level);
	}
}

static void lm028_lcd_backlight_darker(void)
{
	rt_uint8_t i;
	
	if(bk_level<32) bk_level++;
	if(bk_level == 32)
	{
		HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_RESET);
		delay_ms(3);
	}
	else
	{
		for(i=0;i<2;i++)
		{
			HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_RESET);
			delay_us(bk_level*10);
			HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_SET);
			delay_us(bk_level*10);
		}
		rt_kprintf("[Screen]:bk_level is %d!\r\n",bk_level);
	}
}

static void lm028_lcd_backlight_on(void)
{
	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_SET);
}

static void lm028_lcd_backlight_off(void)
{

	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_RESET);
}

void HAL_SRAM_MspInit(SRAM_HandleTypeDef *hsram)
{
	GPIO_InitTypeDef GPIO_Initure;

	__HAL_RCC_FSMC_CLK_ENABLE();
	__HAL_RCC_GPIOD_CLK_ENABLE();
	__HAL_RCC_GPIOE_CLK_ENABLE();
	__HAL_RCC_GPIOF_CLK_ENABLE();
	__HAL_RCC_GPIOG_CLK_ENABLE();

	//init PD0,1,4,5,7,8,9,10,13,14,15
	GPIO_Initure.Pin = GPIO_PIN_0 | GPIO_PIN_1 | GPIO_PIN_4 | GPIO_PIN_5 | GPIO_PIN_14 | GPIO_PIN_15;
	GPIO_Initure.Mode = GPIO_MODE_AF_PP;
	GPIO_Initure.Pull = GPIO_PULLUP;
	GPIO_Initure.Speed = GPIO_SPEED_HIGH;
	GPIO_Initure.Alternate = GPIO_AF12_FSMC;
	HAL_GPIO_Init(GPIOD, &GPIO_Initure);

	//init PE7,8,9,10,11,12,13,14,15
	GPIO_Initure.Pin = GPIO_PIN_7 | GPIO_PIN_8 | GPIO_PIN_9 | GPIO_PIN_10;
	HAL_GPIO_Init(GPIOE, &GPIO_Initure);
	
	GPIO_Initure.Pin = GPIO_PIN_0;
	HAL_GPIO_Init(GPIOF, &GPIO_Initure);
	
	GPIO_Initure.Pin = GPIO_PIN_12;
	HAL_GPIO_Init(GPIOG, &GPIO_Initure);
}

#ifdef RT_USING_LCD_TOUCH

static SPI_HandleTypeDef SPI_Handle;

void HAL_LCD_SPI_Init(void)
{
//	GPIO_InitTypeDef GPIO_Initure;
	__HAL_RCC_SPI2_CLK_ENABLE();

	SPI_Handle.Instance = SPI2;
  SPI_Handle.Init.Mode = SPI_MODE_MASTER;//主模式
  SPI_Handle.Init.Direction = SPI_DIRECTION_2LINES;
  SPI_Handle.Init.DataSize = SPI_DATASIZE_8BIT;
  SPI_Handle.Init.CLKPolarity = SPI_POLARITY_HIGH;
  SPI_Handle.Init.CLKPhase = SPI_PHASE_2EDGE;
  SPI_Handle.Init.NSS = SPI_NSS_SOFT;
  SPI_Handle.Init.BaudRatePrescaler = SPI_BAUDRATEPRESCALER_256;
  SPI_Handle.Init.FirstBit = SPI_FIRSTBIT_MSB;
  SPI_Handle.Init.TIMode = SPI_TIMODE_DISABLE;
  SPI_Handle.Init.CRCCalculation = SPI_CRCCALCULATION_DISABLE;
  SPI_Handle.Init.CRCPolynomial = 7;
	
  HAL_SPI_Init(&SPI_Handle);
	
	__HAL_SPI_ENABLE(&SPI_Handle);
}

#define SPI_CS_DISABLE()	{HAL_GPIO_WritePin(GPIOB, GPIO_PIN_12, GPIO_PIN_SET);}
#define SPI_CS_ENABLE()	{HAL_GPIO_WritePin(GPIOB, GPIO_PIN_12, GPIO_PIN_RESET);}

rt_uint32_t lmt028_get_touch_location(void)
{
	rt_uint8_t cmd,tmp;
	rt_uint32_t lcd_x,lcd_y;
	
	HAL_StatusTypeDef res;
	
	lcd_x = 0;
	lcd_y = 0;
	
	SPI_CS_ENABLE();
	cmd=0xd8;
	HAL_SPI_TransmitReceive(&SPI_Handle,&cmd,&tmp,1,1000);
//	cmd=0xfb;
	HAL_SPI_TransmitReceive(&SPI_Handle,&cmd,&tmp,1,1000);
	lcd_x = tmp;
//	lcd_x = lcd_x<<8;
	HAL_SPI_TransmitReceive(&SPI_Handle,&cmd,&tmp,1,1000);
//	lcd_x |= tmp;
	lcd_x>>=3;
	
	cmd=0x98;
	HAL_SPI_TransmitReceive(&SPI_Handle,&cmd,&tmp,1,1000);
//	cmd=0xfb;
	HAL_SPI_TransmitReceive(&SPI_Handle,&cmd,&tmp,1,1000);
	lcd_y = tmp;
//	lcd_y = lcd_y<<8;
	HAL_SPI_TransmitReceive(&SPI_Handle,&cmd,&tmp,1,1000);
//	lcd_y |= tmp;
	lcd_y>>=3;

	SPI_CS_DISABLE();
	
	return (rt_uint32_t)((lcd_x<<16)|lcd_y);
}
#endif


SRAM_HandleTypeDef SRAM_Handler;

void _lcd_low_level_init(void)
{
//	rt_uint8_t i;
	
  GPIO_InitTypeDef  GPIO_Initure;
	FMC_NORSRAM_TimingTypeDef FSMC_ReadWriteTim;
	FMC_NORSRAM_TimingTypeDef FSMC_WriteTim;

	__HAL_RCC_GPIOB_CLK_ENABLE();
	GPIO_Initure.Pin = GPIO_PIN_5 | GPIO_PIN_12;
	GPIO_Initure.Mode = GPIO_MODE_OUTPUT_PP;
	GPIO_Initure.Pull = GPIO_PULLUP;
	GPIO_Initure.Speed = GPIO_SPEED_HIGH;
	HAL_GPIO_Init(GPIOB, &GPIO_Initure);
	
	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_5, GPIO_PIN_RESET);
	HAL_GPIO_WritePin(GPIOB, GPIO_PIN_12, GPIO_PIN_SET);
	
	__HAL_RCC_GPIOG_CLK_ENABLE();
	GPIO_Initure.Pin = GPIO_PIN_15;
	GPIO_Initure.Mode = GPIO_MODE_OUTPUT_PP;
	GPIO_Initure.Pull = GPIO_PULLUP;
	GPIO_Initure.Speed = GPIO_SPEED_HIGH;
	HAL_GPIO_Init(GPIOG, &GPIO_Initure);
	
	HAL_GPIO_WritePin(GPIOG, GPIO_PIN_15, GPIO_PIN_SET);

	SRAM_Handler.Instance = FSMC_NORSRAM_DEVICE;
	SRAM_Handler.Extended = FSMC_NORSRAM_EXTENDED_DEVICE;

	SRAM_Handler.Init.NSBank = FSMC_NORSRAM_BANK4;
	SRAM_Handler.Init.DataAddressMux = FSMC_DATA_ADDRESS_MUX_DISABLE;
	SRAM_Handler.Init.MemoryType = FSMC_MEMORY_TYPE_SRAM;
	SRAM_Handler.Init.MemoryDataWidth = FSMC_NORSRAM_MEM_BUS_WIDTH_8;
	SRAM_Handler.Init.BurstAccessMode = FSMC_BURST_ACCESS_MODE_DISABLE;
	SRAM_Handler.Init.WaitSignalPolarity = FSMC_WAIT_SIGNAL_POLARITY_LOW;
	SRAM_Handler.Init.WaitSignalActive = FSMC_WAIT_TIMING_BEFORE_WS;
	SRAM_Handler.Init.WriteOperation = FSMC_WRITE_OPERATION_ENABLE;
	SRAM_Handler.Init.WaitSignal = FSMC_WAIT_SIGNAL_DISABLE;
	SRAM_Handler.Init.ExtendedMode = FSMC_EXTENDED_MODE_ENABLE;
	SRAM_Handler.Init.AsynchronousWait = FSMC_ASYNCHRONOUS_WAIT_DISABLE;
	SRAM_Handler.Init.WriteBurst = FSMC_WRITE_BURST_DISABLE;
	SRAM_Handler.Init.ContinuousClock = FSMC_CONTINUOUS_CLOCK_SYNC_ASYNC;
	
	FSMC_ReadWriteTim.AddressSetupTime = 0x02;
	FSMC_ReadWriteTim.AddressHoldTime = 0x05;
	FSMC_ReadWriteTim.DataSetupTime = 0x80;
	FSMC_ReadWriteTim.BusTurnAroundDuration = 0;
	FSMC_ReadWriteTim.CLKDivision = 0;
	FSMC_ReadWriteTim.DataLatency = 0;
	FSMC_ReadWriteTim.AccessMode = FSMC_ACCESS_MODE_A;

	FSMC_WriteTim.AddressSetupTime = 0x02;
	FSMC_WriteTim.AddressHoldTime = 0x05;
	FSMC_WriteTim.DataSetupTime = 0x20;
	FSMC_WriteTim.BusTurnAroundDuration = 0;
	FSMC_WriteTim.CLKDivision = 0;
	FSMC_WriteTim.DataLatency = 0;
	FSMC_WriteTim.AccessMode = FSMC_ACCESS_MODE_A;
	HAL_SRAM_Init(&SRAM_Handler, &FSMC_ReadWriteTim, &FSMC_WriteTim);
	
#ifdef RT_USING_LCD_TOUCH
	HAL_LCD_SPI_Init();
#endif
	
	delay_ms(50);
	
	
	bk_level = 8;
	lmt028_write_reg(0x11); //??
  delay_ms(120);
  lmt028_write_reg(0x35);
	lmt028_write_data(0x00);//TE ON   60Hz
  lmt028_write_reg(0x36);
	lmt028_write_data(0xa0);// lmt028_write_data(0x60);

  lmt028_write_reg(0xb2);  //Porch setting
  lmt028_write_data(0x0c);
	lmt028_write_data(0x0c);
	lmt028_write_data(0x00);
	lmt028_write_data(0x33);
	lmt028_write_data(0x33);

	lmt028_write_reg(0xb7);  //Gate Control
	lmt028_write_data(0x35); //VGH=13.26V, VGL=-10.43V

  lmt028_write_reg(0xbb); //vcom setting
  lmt028_write_data(0x19);

  lmt028_write_reg(0xc0); //LCM Control
	lmt028_write_data(0x2c);
	lmt028_write_reg(0xc2);  //VDV and VRH Command Enable	
	lmt028_write_data(0x01);

	lmt028_write_reg(0xc3); //VRH Set, VAP(GVDD) & VAN(GVCL)
	lmt028_write_data(0x1d); 

	lmt028_write_reg(0xc4);  //VDV Set, 
	lmt028_write_data(0x20); //VDV=0V

	lmt028_write_reg(0xc6);//Frame rate control in normal mode
	lmt028_write_data(0x0f);//dot inversion & 60Hz

	lmt028_write_reg(0xd0);   //Power control 1
	lmt028_write_data(0xa4);
	lmt028_write_data(0xa1); //AVDD=6.8V; AVCL=-4.8V; VDDS=2.3V

  lmt028_write_reg(0xe8);
	lmt028_write_data(0x83);

  lmt028_write_reg(0xe0);
	lmt028_write_data(0xd2);
	lmt028_write_data(0x11);
	lmt028_write_data(0x16);
	lmt028_write_data(0x0d);
	lmt028_write_data(0x0d);
	lmt028_write_data(0x38);
	lmt028_write_data(0x3d);
	lmt028_write_data(0x44);
	lmt028_write_data(0x4c);
	lmt028_write_data(0x1c);
	lmt028_write_data(0x15);
	lmt028_write_data(0x15);
	lmt028_write_data(0x1c);
	lmt028_write_data(0x20);

	lmt028_write_reg(0xe1);
	lmt028_write_data(0xd2);
	lmt028_write_data(0x11);
	lmt028_write_data(0x16);
	lmt028_write_data(0x0d);
	lmt028_write_data(0x0d);
	lmt028_write_data(0x38);
	lmt028_write_data(0x3d);
	lmt028_write_data(0x44);
	lmt028_write_data(0x4c);
	lmt028_write_data(0x1c);
	lmt028_write_data(0x15);
	lmt028_write_data(0x15);
	lmt028_write_data(0x1c);
	lmt028_write_data(0x20);

  lmt028_write_reg(0x3a);
	lmt028_write_data(0x05); 
  lmt028_write_reg(0x29);             
  delay_ms(120);

	lmt028_write_reg(0x2a);
	lmt028_write_data(0x00);
	lmt028_write_data(0x00);
	lmt028_write_data(0x00);
	lmt028_write_data(0xEF);

	lmt028_write_reg(0x2b);
	lmt028_write_data(0x00);
	lmt028_write_data(0x00);
	lmt028_write_data(0x01);
	lmt028_write_data(0x3F);
	
	delay_ms(120);
	lmt028_write_reg(0x2c);

	FSMC_Bank1E->BWTR[6] &= ~(0XF << 0);
	FSMC_Bank1E->BWTR[6] &= ~(0XF << 8);
	FSMC_Bank1E->BWTR[6] |= 4 << 0;
	FSMC_Bank1E->BWTR[6] |= 4 << 8;
	
	lm028_lcd_backlight_init();
	
	lmt028_set_display_direction(0);
	
	lmt028_lcd_fillfullscreen(WHITE);
	
//	lmt028_lcd_set_bmp(30,60,(void*)gImage_run,140,140);
//	
////	lmt028_lcd_set_font24(10,30,(void*)"12345678",RED,WHITE);
}


static rt_err_t lcd_init(rt_device_t dev)
{
	return RT_EOK;
}

static rt_err_t lcd_open(rt_device_t dev, rt_uint16_t oflag)
{
	return RT_EOK;
}

static rt_err_t lcd_close(rt_device_t dev)
{
	return RT_EOK;
}

static rt_err_t lcd_control(rt_device_t dev, int cmd, void *args)
{
	switch (cmd)
	{
		case RTGRAPHIC_CTRL_LIGHTER:
			lm028_lcd_backlight_lighter();
			break;
		case RTGRAPHIC_CTRL_DARKER:
			lm028_lcd_backlight_darker();
			break;
		case RTGRAPHIC_CTRL_BACKON:
			lm028_lcd_backlight_on();
			break;
		case RTGRAPHIC_CTRL_BACKOFF:
			lm028_lcd_backlight_off();
			break;
	default:
		break;
	}

	return RT_EOK;
}

static void lmt028_lcd_set_pixel(rt_uint16_t color, int x, int y)
{
	rt_uint16_t ptr;
	
	ptr =color;
	
	if (x >= lcddev.width || y >= lcddev.height)
	{
		return;
	}
	
	lmt028_set_cursor(x, y);
	lmt028_write_ram_prepare();
	lmt028->ram = (rt_uint8_t)(ptr>>8);
	lmt028->ram = (rt_uint8_t)(ptr&0xff);
}
#ifdef RT_USING_FINSH
static void lcd_set_pixel(rt_uint16_t color, int x, int y)
{
	rt_kprintf("lcd set pixel, color: %X, x: %d, y: %d\r\n", color, x, y);
	lmt028_lcd_set_pixel(color, x, y);
}
FINSH_FUNCTION_EXPORT(lcd_set_pixel, set pixel in lcd display);
#endif

static void lmt028_lcd_get_pixel(rt_uint16_t color, int x, int y)
{
	rt_uint16_t red = 0;
	rt_uint16_t green = 0;
	rt_uint16_t blue = 0;

	if (x >= lcddev.width || y >= lcddev.height)
	{
//		*(rt_uint16_t*)pixel = 0;
		return;
	}

	lmt028_set_cursor(x, y);

	lmt028_write_reg(0x2E);
	lmt028_read_ram();
	red = lmt028_read_ram();
	delay_us(2);

	blue = lmt028_read_ram();
	green = lmt028_read_ram();

	color = ((red>>3)<<11)|((blue>>2)<<5)|(green>>3);
}
#ifdef RT_USING_FINSH
static void lcd_get_pixel(rt_uint8_t argc, char **argv)
{
	rt_uint16_t color,x,y;
	
	x = strtol(argv[1],NULL,10);
	y = strtol(argv[2],NULL,10);
	
	lmt028_lcd_get_pixel(color, x, y);
	rt_kprintf("lcd get pixel, pixel: 0x%02X, x: %d, y: %d\r\n", color, x, y);
}
FINSH_FUNCTION_EXPORT(lcd_get_pixel, get pixel in lcd display);
MSH_CMD_EXPORT(lcd_get_pixel, get pixel in lcd display);
#endif

static void lmt028_lcd_draw_hline(rt_uint16_t color, int x1, int x2, int y)
{
	for (; x1 < x2; x1++)
	{
		lmt028_lcd_set_pixel(color, x1, y);  //write red data
	}
}
#ifdef RT_USING_FINSH
//static void lcd_draw_hline(rt_uint16_t pixel, int x1, int x2, int y)
//{
//	lmt028_lcd_draw_hline((const char *)&pixel, x1, x2, y);
//	rt_kprintf("lcd draw hline, pixel: 0x%X, x1: %d, x2: %d, y: %d", pixel, x1, x2, y);
//}
static void lcd_draw_hline(rt_uint8_t argc, char **argv)
{
	rt_uint16_t color; int x1; int x2; int y;
	
	color = strtol(argv[1],NULL,10);
	x1 = strtol(argv[2],NULL,10);
	x2 = strtol(argv[3],NULL,10);
	y = strtol(argv[4],NULL,10);
	
	lmt028_lcd_draw_hline(color, x1, x2, y);
	rt_kprintf("lcd draw hline, pixel: 0x%X, x1: %d, x2: %d, y: %d\r\n", color, x1, x2, y);
}
FINSH_FUNCTION_EXPORT(lcd_draw_hline, draw hline in lcd display);
MSH_CMD_EXPORT(lcd_draw_hline, draw hline in lcd display);
#endif

static void lmt028_lcd_draw_vline(rt_uint16_t color, int x, int y1, int y2)
{
	for (; y1 < y2; y1++)
	{
		lmt028_lcd_set_pixel(color, x, y1);  //write red data
	}
}
#ifdef RT_USING_FINSH
static void lcd_draw_vline(rt_uint8_t argc, char **argv)
{
	rt_uint16_t color; int x; int y1; int y2;
	
	color = strtol(argv[1],NULL,10);
	x = strtol(argv[2],NULL,10);
	y1 = strtol(argv[3],NULL,10);
	y2 = strtol(argv[4],NULL,10);
	
	lmt028_lcd_draw_vline(color, x, y1, y2);
	rt_kprintf("lcd draw hline, pixel: 0x%X, x: %d, y: %d\r\n", color, y1, y2);
}
FINSH_FUNCTION_EXPORT(lcd_draw_vline, draw vline in lcd display);
MSH_CMD_EXPORT(lcd_draw_vline, draw vline in lcd display);
#endif

static void lmt028_lcd_blit_line(rt_uint16_t color, int x, int y, rt_size_t size)
{
	while (size--)
	{
		lmt028_lcd_set_pixel(color, x, y);  //write red data
	}
}
//#ifdef RT_USING_FINSH
//#define LINE_LEN 30
//static void lcd_blit_line(int x, int y)
//{
//	rt_uint8_t pixels[LINE_LEN];
//	int i;

//	for (i = 0; i < LINE_LEN; i++)
//	{
//		pixels[i] = i * 40 + 50;
//	}

//	lmt028_lcd_blit_line(pixels, x, y, LINE_LEN);
//	rt_kprintf("lcd blit line, x: %d, y: %d\r\n", x, y);
//}
//FINSH_FUNCTION_EXPORT(lcd_blit_line, draw blit line in lcd display);
//MSH_CMD_EXPORT(lcd_blit_line, draw blit line in lcd display);
//#endif

static void lmt028_lcd_draw_circle(rt_uint16_t color, int x, int y, int r)
{
	rt_uint16_t a,b;
	
	a=0;
	b=r;
	
	if (((x+r) >= lcddev.width) || ((y+r) >= lcddev.height)||(x<r)||(y<r))
	{
		return;
	}
	while(2*b*b>=r*r)
	{
		lmt028_lcd_set_pixel(color, x+a, y-b);
		lmt028_lcd_set_pixel(color, x-a, y-b);
		lmt028_lcd_set_pixel(color, x-a, y+b);
		lmt028_lcd_set_pixel(color, x+a, y+b);
		
		lmt028_lcd_set_pixel(color, x+b, y+a);
		lmt028_lcd_set_pixel(color, x+b, y-a);
		lmt028_lcd_set_pixel(color, x-b, y-a);
		lmt028_lcd_set_pixel(color, x-b, y+a);

		if((a*a+b*b)>(r*r))
		{
			a--;
			b--;
		}
		a++;
	}
}

#ifdef RT_USING_FINSH
static void lcd_draw_circle(rt_uint8_t argc, char **argv)
{
	rt_uint16_t color; int x; int y; int r;
	
	color = strtol(argv[1],NULL,10);
	x = strtol(argv[2],NULL,10);
	y = strtol(argv[3],NULL,10);
	r = strtol(argv[4],NULL,10);
	
	lmt028_lcd_draw_circle(color, x, y, r);
	rt_kprintf("lcd draw circle, pixel: 0x%X, x: %d, y: %d, r: %d\r\n", color, x, y, r);
}
FINSH_FUNCTION_EXPORT(lcd_draw_circle, draw circle in lcd display);
MSH_CMD_EXPORT(lcd_draw_circle, draw circle in lcd display);
#endif

static void lmt028_lcd_fill_fb(rt_uint16_t color, int start_x, int end_x,int start_y, int end_y)
{
	rt_uint16_t a,b,c,d;
	
	a=start_x;
	b=start_y;
	c=end_x;
	d=end_y;
	
	for(a=start_x;a<c;a++)
	{
		for(b=start_y;b<d;b++)
		{
			lmt028_lcd_set_pixel(color, a, b);
		}
	}
}

#ifdef RT_USING_FINSH
static void lcd_fill_fb(rt_uint8_t argc, char **argv)
{
	rt_uint16_t color; int a; int b; int c;int d;
	
	color = strtol(argv[1],NULL,10);
	a = strtol(argv[2],NULL,10);
	b = strtol(argv[3],NULL,10);
	c = strtol(argv[4],NULL,10);
	d = strtol(argv[5],NULL,10);
	
	lmt028_lcd_fill_fb(color, a, b, c, d);
	rt_kprintf("lcd fill fb, pixel: 0x%X, x: %d, y: %d, r: %d\r\n", color, a, b, c, d);
}
FINSH_FUNCTION_EXPORT(lcd_fill_fb, fill fb in lcd display);
MSH_CMD_EXPORT(lcd_fill_fb, fill fb in lcd display);
#endif


static void lmt028_lcd_draw_line(rt_uint16_t color, int x1, int y1,int x2, int y2)
{
	int dx,dy,e;
	
	dx = x2-x1;
	dy = y2-y1;
	
	if(dx>0)
	{
		if(dy>0)
		{
			if(dx>=dy)
			{
				e=dy-dx/2;
				while(x1<=x2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						y1+=1;
						e-=dx;
					}
					x1+=1;
					e+=dy;
				}
			}
			else
			{
				e=dx-dy/2;
				while(y1<=y2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						x1+=1;
						e-=dy;
					}
					y1+=1;
					e+=dx;
				}
			}
		}
		else//dy<0
		{
			dy=-dy;
			if(dx>=dy)
			{
				e=dy-dx/2;
				while(x1<=x2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						y1-=1;
						e-=dx;
					}
					x1+=1;
					e+=dy;
				}
			}
			else
			{
				e=dx-dy/2;
				while(y1>=y2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						x1+=1;
						e-=dy;
					}
					y1-=1;
					e+=dx;
				}
			}
		}
	}
	else//dx<0
	{
		dx=-dx;
		if(dy>0)
		{
			if(dx>=dy)
			{
				e=dy-dx/2;
				while(x1>=x2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						y1+=1;
						e-=dx;
					}
					x1-=1;
					e+=dy;
				}
			}
			else
			{
				e=dx-dy/2;
				while(y1<=y2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						x1-=1;
						e-=dy;
					}
					y1+=1;
					e+=dx;
				}
			}
		}
		else//dy<0
		{
			dy=-dy;
			if(dx>=dy)
			{
				e=dy-dx/2;
				while(x1>=x2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						y1-=1;
						e-=dx;
					}
					x1-=1;
					e+=dy;
				}
			}
			else
			{
				e=dx-dy/2;
				while(y1>=y2)
				{
					lmt028_lcd_set_pixel(color, x1, y1);
					if(e>0)
					{
						x1-=1;
						e-=dy;
					}
					y1-=1;
					e+=dx;
				}
			}
		}
	}
}

#ifdef RT_USING_FINSH
static void lcd_draw_line(rt_uint8_t argc, char **argv)
{
	rt_uint16_t color; int a; int b; int c;int d;
	
	color = strtol(argv[1],NULL,10);
	a = strtol(argv[2],NULL,10);
	b = strtol(argv[3],NULL,10);
	c = strtol(argv[4],NULL,10);
	d = strtol(argv[5],NULL,10);
	
	lmt028_lcd_draw_line(color, a, b, c, d);
	rt_kprintf("lcd draw line, pixel: 0x%X, x: %d, y: %d, r: %d\r\n", color, a, b, c, d);
}
FINSH_FUNCTION_EXPORT(lcd_draw_line, draw line in lcd display);
MSH_CMD_EXPORT(lcd_draw_line, draw line in lcd display);
#endif

static int rt_hw_lcd_init(void)
{
	_lcd_low_level_init();

	static struct rt_device lcd_device;

	static struct rt_device_graphic_ops lmt028_ops =
	{
		lmt028_lcd_set_pixel,
		lmt028_lcd_get_pixel,
		lmt028_lcd_draw_hline,
		lmt028_lcd_draw_vline,
		lmt028_lcd_blit_line,
		lmt028_lcd_fillfullscreen,
		lmt028_lcd_fill_fb,
		lmt028_lcd_set_bmp,
		lmt028_lcd_set_font24,
		lmt028_lcd_draw_circle,
		lmt028_lcd_draw_line,
//#ifdef RT_USING_LCD_TOUCH
//		lmt028_touch_driver,
//#endif
	};
	
	/* register lcd device */
	lcd_device.type = RT_Device_Class_Graphic;
	lcd_device.init = lcd_init;
	lcd_device.open = lcd_open;
	lcd_device.close = lcd_close;
	lcd_device.control = lcd_control;
	lcd_device.read = RT_NULL;
	lcd_device.write = RT_NULL;

	lcd_device.user_data = &lmt028_ops;

	/* register graphic device driver */
	rt_device_register(&lcd_device, "lcd",
		RT_DEVICE_FLAG_RDWR | RT_DEVICE_FLAG_STANDALONE);

	return 0;
}
INIT_BOARD_EXPORT(rt_hw_lcd_init);
